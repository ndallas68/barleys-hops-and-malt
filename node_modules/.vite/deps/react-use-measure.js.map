{
  "version": 3,
  "sources": ["../../debounce/index.js", "../../react-use-measure/dist/web.js"],
  "sourcesContent": ["/**\r\n * Returns a function, that, as long as it continues to be invoked, will not\r\n * be triggered. The function will be called after it stops being called for\r\n * N milliseconds. If `immediate` is passed, trigger the function on the\r\n * leading edge, instead of the trailing. The function also has a property 'clear' \r\n * that is a function which will clear the timer to prevent previously scheduled executions. \r\n *\r\n * @source underscore.js\r\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\r\n * @param {Function} function to wrap\r\n * @param {Number} timeout in ms (`100`)\r\n * @param {Boolean} whether to execute at the beginning (`false`)\r\n * @api public\r\n */\r\nfunction debounce(func, wait, immediate){\r\n  var timeout, args, context, timestamp, result;\r\n  if (null == wait) wait = 100;\r\n\r\n  function later() {\r\n    var last = Date.now() - timestamp;\r\n\r\n    if (last < wait && last >= 0) {\r\n      timeout = setTimeout(later, wait - last);\r\n    } else {\r\n      timeout = null;\r\n      if (!immediate) {\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  var debounced = function(){\r\n    context = this;\r\n    args = arguments;\r\n    timestamp = Date.now();\r\n    var callNow = immediate && !timeout;\r\n    if (!timeout) timeout = setTimeout(later, wait);\r\n    if (callNow) {\r\n      result = func.apply(context, args);\r\n      context = args = null;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  debounced.clear = function() {\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n    }\r\n  };\r\n  \r\n  debounced.flush = function() {\r\n    if (timeout) {\r\n      result = func.apply(context, args);\r\n      context = args = null;\r\n      \r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n    }\r\n  };\r\n\r\n  return debounced;\r\n};\r\n\r\n// Adds compatibility for ES modules\r\ndebounce.debounce = debounce;\r\n\r\nmodule.exports = debounce;\r\n", "import { useState, useRef, useEffect, useMemo } from 'react';\r\nimport createDebounce from 'debounce';\r\n\r\nfunction useMeasure(_temp) {\r\n  let {\r\n    debounce,\r\n    scroll,\r\n    polyfill,\r\n    offsetSize\r\n  } = _temp === void 0 ? {\r\n    debounce: 0,\r\n    scroll: false,\r\n    offsetSize: false\r\n  } : _temp;\r\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\r\n\r\n  if (!ResizeObserver) {\r\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\r\n  }\r\n\r\n  const [bounds, set] = useState({\r\n    left: 0,\r\n    top: 0,\r\n    width: 0,\r\n    height: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    x: 0,\r\n    y: 0\r\n  }); // keep all state in a ref\r\n\r\n  const state = useRef({\r\n    element: null,\r\n    scrollContainers: null,\r\n    resizeObserver: null,\r\n    lastBounds: bounds\r\n  }); // set actual debounce values early, so effects know if they should react accordingly\r\n\r\n  const scrollDebounce = debounce ? typeof debounce === 'number' ? debounce : debounce.scroll : null;\r\n  const resizeDebounce = debounce ? typeof debounce === 'number' ? debounce : debounce.resize : null; // make sure to update state only as long as the component is truly mounted\r\n\r\n  const mounted = useRef(false);\r\n  useEffect(() => {\r\n    mounted.current = true;\r\n    return () => void (mounted.current = false);\r\n  }); // memoize handlers, so event-listeners know when they should update\r\n\r\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\r\n    const callback = () => {\r\n      if (!state.current.element) return;\r\n      const {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        bottom,\r\n        right,\r\n        x,\r\n        y\r\n      } = state.current.element.getBoundingClientRect();\r\n      const size = {\r\n        left,\r\n        top,\r\n        width,\r\n        height,\r\n        bottom,\r\n        right,\r\n        x,\r\n        y\r\n      };\r\n\r\n      if (state.current.element instanceof HTMLElement && offsetSize) {\r\n        size.height = state.current.element.offsetHeight;\r\n        size.width = state.current.element.offsetWidth;\r\n      }\r\n\r\n      Object.freeze(size);\r\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\r\n    };\r\n\r\n    return [callback, resizeDebounce ? createDebounce(callback, resizeDebounce) : callback, scrollDebounce ? createDebounce(callback, scrollDebounce) : callback];\r\n  }, [set, offsetSize, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\r\n\r\n  function removeListeners() {\r\n    if (state.current.scrollContainers) {\r\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\r\n      state.current.scrollContainers = null;\r\n    }\r\n\r\n    if (state.current.resizeObserver) {\r\n      state.current.resizeObserver.disconnect();\r\n      state.current.resizeObserver = null;\r\n    }\r\n  } // add scroll-listeners / observers\r\n\r\n\r\n  function addListeners() {\r\n    if (!state.current.element) return;\r\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\r\n    state.current.resizeObserver.observe(state.current.element);\r\n\r\n    if (scroll && state.current.scrollContainers) {\r\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\r\n        capture: true,\r\n        passive: true\r\n      }));\r\n    }\r\n  } // the ref we expose to the user\r\n\r\n\r\n  const ref = node => {\r\n    if (!node || node === state.current.element) return;\r\n    removeListeners();\r\n    state.current.element = node;\r\n    state.current.scrollContainers = findScrollContainers(node);\r\n    addListeners();\r\n  }; // add general event listeners\r\n\r\n\r\n  useOnWindowScroll(scrollChange, Boolean(scroll));\r\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\r\n\r\n  useEffect(() => {\r\n    removeListeners();\r\n    addListeners();\r\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\r\n\r\n  useEffect(() => removeListeners, []);\r\n  return [ref, bounds, forceRefresh];\r\n} // Adds native resize listener to window\r\n\r\n\r\nfunction useOnWindowResize(onWindowResize) {\r\n  useEffect(() => {\r\n    const cb = onWindowResize;\r\n    window.addEventListener('resize', cb);\r\n    return () => void window.removeEventListener('resize', cb);\r\n  }, [onWindowResize]);\r\n}\r\n\r\nfunction useOnWindowScroll(onScroll, enabled) {\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      const cb = onScroll;\r\n      window.addEventListener('scroll', cb, {\r\n        capture: true,\r\n        passive: true\r\n      });\r\n      return () => void window.removeEventListener('scroll', cb, true);\r\n    }\r\n  }, [onScroll, enabled]);\r\n} // Returns a list of scroll offsets\r\n\r\n\r\nfunction findScrollContainers(element) {\r\n  const result = [];\r\n  if (!element || element === document.body) return result;\r\n  const {\r\n    overflow,\r\n    overflowX,\r\n    overflowY\r\n  } = window.getComputedStyle(element);\r\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\r\n  return [...result, ...findScrollContainers(element.parentElement)];\r\n} // Checks if element boundaries are equal\r\n\r\n\r\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\r\n\r\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\r\n\r\nexport { useMeasure as default };\r\n"],
  "mappings": "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",
  "names": ["createDebounce"]
}
